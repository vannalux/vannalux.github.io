const portfolio=function(e){if(void 0!==e.id&&void 0!==e.sizes&&void 0!==e.items_margin_hor&&void 0!==e.items_margin_ver&&void 0!==e.items_height){const c=`#${e.id} .portfolio__container-items`,o=document.querySelector("#"+e.id),f=o.querySelector(".portfolio__container"),d=o.querySelector(".portfolio__container-items"),u=o.querySelector(".portfolio__search-bar__sort-field__text"),g=o.querySelector(".portfolio__search-bar__sort-field__dropdown > ul"),h=o.querySelectorAll(".portfolio__card"),y=o.querySelector(".portfolio__search-bar__search-field > input"),_=o.querySelectorAll(".portfolio__category-bar li"),p=e.sizes,m=parseFloat(e.items_margin_hor),v=parseFloat(e.items_margin_ver),w=parseFloat(e.items_height);let s=null,n="*",l="";const E={fade:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1"},out:{opacity:"0"}},zoomIn:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"scale(1)"},out:{opacity:"0",transform:"scale(0.5)"}},rotateInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(-45deg)"}},rotateInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(45deg)"}},fadeInUp:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(50%)"}},fadeInDown:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(-50%)"}},fadeInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(-50%)"}},fadeInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(50%)"}},flipInX:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateX(0)"},out:{opacity:"0",transform:"rotateX(90deg)"}},flipInY:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateY(0)"},out:{opacity:"0",transform:"rotateY(90deg)"}}};let t=e.items_effect||"fade";(()=>{if(0<_.length){let t=_[0].querySelector("a");t.classList.add("active");n=t.getAttribute("data-category-id")}s=new Muuri(c,{layout:function(t,e,u,o,a,g){var h={id:e,items:u,slots:[],styles:{}},r=window.setTimeout(function(){var e,c,l,t,o;let a="";if("undefined"!=typeof x5engine)t=x5engine.responsive.getCurrentBreakPoint().hash,a=p[t].items_per_row;else{e=document.querySelector("body").clientWidth;for(const d in p)void 0===p[d].breakpoint_min?void 0!==p[d].breakpoint_max&&e<parseFloat(p[d].breakpoint_max)&&(a=p[d].items_per_row):e>parseFloat(p[d].breakpoint_min)&&(void 0===p[d].breakpoint_max||e<parseFloat(p[d].breakpoint_max))&&(a=p[d].items_per_row)}var r=(o=a,(f.clientWidth-m*(o-1))/o),i=w,s=parseInt(u.length/a)+(0<u.length%a?1:0),n=a;for(let o=0;o<s;o++)for(let e=0;e<n;e++){if(l=a*o+e,l>=u.length)break;let t=u[l];t.getElement().style.width=r+"px";t.getElement().style.height=i+"px";c=e*r+e*m;l=o*i+o*v;h.slots.push(c,l)}t=n*r+(n-1)*m;o=s*w+(s-1)*v;h.styles.width=t+"px";h.styles.height=o+"px";g(h)},10);return function(){window.clearTimeout(r)}},layoutDuration:E[t].showDuration,visibleStyles:E[t].in,hiddenStyles:E[t].out,showDuration:E[t].showDuration,showEasing:E[t].showEasing,hideDuration:E[t].hideDuration,hideEasing:E[t].hideEasing,layoutDuration:500,layoutOnResize:50,sortData:{"default":(t,e)=>e.getAttribute("data-index"),title:(t,e)=>e.querySelector(".portfolio__card__overlay__title").textContent.toLowerCase(),date:(t,e)=>e.getAttribute("data-ts")}}).on("layoutEnd",()=>{d.classList.toggle("hidden",!1);var t=s.getItems().filter(t=>t.isActive());d.classList.toggle("no-items",0===t.length)});"*"!==n&&s.filter(t=>t.getElement().className.includes(n),{instant:!0});null!==y&&y.addEventListener("keyup",t=>{l=t.currentTarget.value,r()});0<_.length&&_.forEach(t=>{t.querySelector("a").addEventListener("click",t=>{t.preventDefault(),n=t.currentTarget.getAttribute("data-category-id"),o(n),r()})});let e=!1;s.getItems().forEach(t=>{null!==t.getElement().querySelector(".portfolio__card__bottom-bar__date")&&(e=!0)});!1===e&&null!==g&&g.querySelectorAll('li[data-value^="date_"]').forEach(t=>{t.style.display="none"});null!==u&&(u.addEventListener("click",()=>{g.classList.toggle("open")}),g.querySelectorAll("li").forEach(t=>{t.addEventListener("click",t=>{let e=t.currentTarget;u.querySelector("span").innerHTML=e.innerHTML;g.classList.toggle("open",!1);t=e.getAttribute("data-value");"date_desc"===t?s.sort("date",{descending:!0}):"date_asc"===t?s.sort("date"):s.sort(t)})}));let a={};h.forEach((t,o)=>{"ontouchstart"in window?(t.classList.contains("overlay-effect-follow")&&t.classList.replace("overlay-effect-follow","overlay-effect-appear-central"),t.addEventListener("click",t=>{"number"==typeof a[o]&&clearTimeout(a[o]);let e=t.currentTarget;!1===e.classList.contains("showOverlay")&&(t.preventDefault(),t.stopPropagation());e.classList.toggle("showOverlay",!0);a[o]=setTimeout(()=>{e.classList.toggle("showOverlay",!1)},5e3)},!0)):t.classList.contains("overlay-effect-follow")?(t.addEventListener("mouseenter",t=>{var e=i(t);let o=t.target;o.setAttribute("data-dir",e);let a=o.querySelector(".portfolio__card__overlay__content");a.style.transitionProperty="none";a.style.transform=`translate(${"left"===e?"-105%":"right"===e?"105%":"0%"}, ${"top"===e?"-105%":"bottom"===e?"105%":"0%"})`;window.setTimeout(()=>{o.classList.toggle("showOverlay",!0),a.style.transitionProperty="transform",a.style.transform="translate(0, 0)"},0)}),t.addEventListener("mousemove",t=>{var e=i(t);let o=t.currentTarget;o.setAttribute("data-dir",e)}),t.addEventListener("mouseleave",t=>{let e=t.target;t=e.getAttribute("data-dir");let o=e.querySelector(".portfolio__card__overlay__content");o.style.transform=`translate(${"left"===t?"-105%":"right"===t?"105%":"0%"}, ${"top"===t?"-105%":"bottom"===t?"105%":"0%"})`;e.classList.toggle("showOverlay",!1)})):(t.addEventListener("mouseenter",t=>{let e=t.target;e.classList.toggle("showOverlay",!0)}),t.addEventListener("mouseleave",t=>{let e=t.target;e.classList.toggle("showOverlay",!1)}))});let o=o=>{_.forEach(t=>{let e=t.querySelector("a");e.classList.toggle("active",e.getAttribute("data-category-id")===o)})},r=()=>{s.filter(t=>{const e=t.getElement();let o=!1;const a=e.querySelector(".portfolio__card__overlay__title");null!==a&&a.textContent.toLowerCase().includes(l.toLowerCase())&&(o=!0);const r=e.querySelector(".portfolio__card__overlay__description");null!==r&&r.textContent.toLowerCase().includes(l.toLowerCase())&&(o=!0);const i=e.getAttribute("data-category-text");i.toLowerCase().includes(l.toLowerCase())&&(o=!0);let s=!0;return"*"!==n&&(s=e.getAttribute("data-category-id")===n),!(!o||!s)},{onFinish:()=>{}})},i=t=>{var e=t.target.getBoundingClientRect(),o=t.clientX-e.left,a=t.clientY-e.top,r="left",t=o,o=e.width-o;return o<t&&(r="right",t=o),a<t&&(r="top",t=a),a=e.height-a,a<t&&(r="bottom",t=a),r}})()}else console.log("Portfolio error: missing parameters")}